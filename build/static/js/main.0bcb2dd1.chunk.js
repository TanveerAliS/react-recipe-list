(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,a){e.exports=a.p+"static/media/hellofresh-logo.869c531b.svg"},25:function(e,t,a){e.exports=a(43)},30:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(19),c=a.n(i),l=(a(30),a(5)),s=a(6),o=a(8),m=a(7),p=a(9),u=a(10),d=a(13),f=a(14),h=a.n(f),E=a(20),g=a(21),v=a.n(g),_=function(e){var t=e.active,a=e.handleUpdateRating,n=e.index,i=t?"#F35369":"#BEC2C9";return r.a.createElement("span",{onClick:function(e){a(e)}.bind(void 0,n)},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"15px",height:"15px",viewBox:"0 0 12 12"},r.a.createElement("polygon",{fill:i,points:"6 8.5200001 2.47328849 10.854102 3.60333748 6.77872286 0.293660902 4.14589803 4.51878111 3.96127709 6 0 7.48121889 3.96127709 11.7063391 4.14589803 8.39666252 6.77872286 9.52671151 10.854102"})))},N=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).updateRating=function(e,t){e+1===a.state.rating?a.setState({rating:0}):a.setState({rating:e+1})},a.state={rating:a.props.recipeRating},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.recipeId,a=this.state.rating;return r.a.createElement("div",{className:"Rating"},function(){for(var n=[],i=0;i<5;i++){var c=!(i>=a&&i<5);n.push(r.a.createElement(_,{className:"rating",key:i,recipeId:t,active:c,handleUpdateRating:e.updateRating,index:i}))}return n}())}}]),t}(n.Component),b=function(e){var t=e.filterText,a=e.onFilterTextInput,n=e.handleClearText;return r.a.createElement("div",{className:"SearchBar"},r.a.createElement("input",{className:"SearchBar__input",type:"text",required:!0,placeholder:"Search recipes...",value:t||"",onChange:a}),r.a.createElement("button",{className:"SearchBar__clear",onClick:n,type:"reset"}))},R=a(24),x=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleIsFavorite=function(){var e=localStorage.getItem("favoriteRecipes")?JSON.parse(localStorage.getItem("favoriteRecipes")):[];a.state.isFavorite?e.splice(e.findIndex(function(e){return e===a.props.recipeId}),1):e.push(a.props.recipeId),localStorage.setItem("favoriteRecipes",JSON.stringify(Object(R.a)(new Set(e)))),a.setState(function(e){return{isFavorite:!e.isFavorite}})},a.state={isFavorite:!1},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.recipeId,t=-1!==(localStorage.getItem("favoriteRecipes")?JSON.parse(localStorage.getItem("favoriteRecipes")):[]).findIndex(function(t){return t===e});return r.a.createElement("div",{className:"Favorite"},r.a.createElement("span",{className:"Favorite--toggle",href:"#",onClick:this.handleIsFavorite},r.a.createElement("i",{className:"".concat(t?"fas":"far"," fa-heart")})))}}]),t}(n.Component),I=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).getRecipes=function(){var e=window.encodeURI("https://s3-eu-west-1.amazonaws.com/frontend-dev-test/recipes.json");fetch(e).then(function(e){return e.json()}).then(function(e){return a.setState({recipes:e,isFetching:!1},function(){localStorage.setItem("recipes",JSON.stringify(e))})}).catch(function(e){return a.setState({isFetching:!0,error:e})})},a.handleFilterTextInput=function(e){a.setState({filterText:e.target.value})},a.findMatches=function(e,t){return t.filter(function(t){var a=new RegExp(e,"gi");return t.name.match(a)})},a.clearText=function(){a.setState({filterText:""})},a.state={recipes:[],isFetching:!0,error:null,filterText:null},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=Object(E.a)(h.a.mark(function e(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getRecipes();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.recipes,a=e.isFetching,i=e.filterText,c=i&&new RegExp(i,"gi"),l=i?this.findMatches(i,t):t;return r.a.createElement(n.Fragment,null,r.a.createElement("header",{className:"Recipes__header"},r.a.createElement("img",{src:v.a,alt:"logo"}),r.a.createElement(b,{filterText:this.state.filterText,onFilterTextInput:this.handleFilterTextInput,handleClearText:this.clearText})),r.a.createElement("div",{className:"Recipes__container"},a?r.a.createElement("div",{className:"loading"},r.a.createElement("span",null)):r.a.createElement("section",{className:"Recipes__container--cards"},l&&l.map(function(e){return r.a.createElement("article",{key:e.id},r.a.createElement("div",{className:"recipe radius shadowDepth"},r.a.createElement("div",{className:"recipe__image border-tlr-radius"},r.a.createElement("img",{src:e.thumb,alt:"imageTag",className:"border-tlr-radius"})),r.a.createElement("div",{className:"recipe__content recipe__padding"},r.a.createElement(x,{recipeId:e.id}),r.a.createElement("article",{className:"recipe__article"},r.a.createElement(u.b,{to:"recipe/".concat(e.id),key:e.id},r.a.createElement("h2",null,r.a.createElement("span",{dangerouslySetInnerHTML:{__html:e.name.replace(c,'<strong class="match">'.concat(i,"</strong>"))}}))),r.a.createElement("p",null,e.headline))),r.a.createElement("div",{className:"recipe__meta recipe__padding"},r.a.createElement("span",null,e.calories),r.a.createElement("time",null,e.time.split("").slice(2).join("")),r.a.createElement(N,{recipeId:e.id,recipeRating:Math.floor(e.rating)}))))}))))}}]),t}(n.Component),w=function(e){var t=e.location,a=JSON.parse(localStorage.getItem("recipes"))||[],n=t&&t.pathname.split("/")[2],i=a.find(function(e){return e.id===n});return r.a.createElement("div",{className:"RecipeDetails"},i&&r.a.createElement("div",{className:"RecipeDetails__wrapper"},r.a.createElement(u.b,{to:"/"},r.a.createElement("div",{className:"RecipeDetails--goback"},r.a.createElement("i",{className:"fa fa-arrow-left"}))),r.a.createElement("div",{className:"RecipeDetails__left"},r.a.createElement("div",{className:"RecipeDetails__left__info"},r.a.createElement("div",{className:"RecipeDetails__left__title"},i.name),r.a.createElement("div",{className:"RecipeDetails__left__headline"},i.headline)),r.a.createElement("div",{className:"RecipeDetails__left__image"},r.a.createElement("img",{src:i.image,alt:""}),r.a.createElement(N,{recipeId:i.id,recipeRating:Math.floor(i.rating)}))),r.a.createElement("div",{className:"RecipeDetails__right"},r.a.createElement("div",{className:"RecipeDetails__right__description"},i.description),r.a.createElement("div",{className:"RecipeDetails__right__ingredients"},r.a.createElement("h1",null,"Ingredients"),r.a.createElement("ul",null,i.ingredients.map(function(e,t){return r.a.createElement("li",{key:t},e)})))),r.a.createElement("div",{className:"RecipeDetails__favorite"},r.a.createElement(x,{recipeId:i.id})),r.a.createElement("div",{className:"RecipeDetails__bottom"},r.a.createElement("div",{className:"RecipeDetails__bottom__meta"},r.a.createElement("ul",null,i.fats&&r.a.createElement("li",null,r.a.createElement("span",{className:"fa"},"Fats"),i.fats),i.calories&&r.a.createElement("li",null,r.a.createElement("span",{className:"fa"},"Calories"),i.calories),i.proteins&&r.a.createElement("li",null,r.a.createElement("span",{className:"fa"},"Proteins"),i.proteins),i.carbos&&r.a.createElement("li",null,r.a.createElement("span",{className:"fa"},"Carbs"),i.carbos),i.time&&r.a.createElement("li",null,r.a.createElement("span",{className:"fa"},"Preparation time"),i.time.split("").slice(2).join("")))))))},O=function(){return r.a.createElement("div",{className:"NoMatch"},r.a.createElement("h1",null,"Not found ",r.a.createElement("span",null,":(")),r.a.createElement("p",null,"Sorry, but the page you were trying to view does not exist."),r.a.createElement("i",null,"404"),r.a.createElement("br",null),r.a.createElement("a",{href:"/"},"Go Home"))},j=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(u.a,null,r.a.createElement(d.c,null,r.a.createElement(d.a,{exact:!0,path:"/",component:I}),r.a.createElement(d.a,{path:"/recipe/:recipeId",component:w}),r.a.createElement(d.a,{component:O,w:!0}))))}}]),t}(r.a.Component);c.a.render(r.a.createElement(j,null),document.getElementById("root"))}},[[25,2,1]]]);
//# sourceMappingURL=main.0bcb2dd1.chunk.js.map